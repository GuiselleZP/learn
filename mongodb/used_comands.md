# Commands used with mongoDB

1. **Check what is my MongoDB version**
	
	```javascript
	mongod --version
	```

1. **Check what is my version of the MongoDB shell**
	
	```javascript
	mongo --version
	```

1. **Start the mongo server**

	```
	sudo mongod
	```

	To execute commands in MongoDB, you must open another console and type:

	```
	mongo
	```

	Or you can use the command:

	```
	mongo --quiet
	```

	If you show this eror: Error: couldn't connect to server 127.0.0.1:27017.
	Follow these steps:

	1. Remove .lock file
	
		```
		sudo rm /var/lib/mongodb/mongod.lock
		```
	1. Repair the mongodb

		```
		mongod -repair
		```

	1. Start the mongo server

		```
		sudo service mongod start
		```

	1. Start the mongo client

		```
		mongo
		```

		Or you can use the command:

		```
		mongo --quiet
		```

1. **Show the created databases**

	It also shows the weight and name of each database.

	```javascript
	show dbs
	```

1. **Shows the database that is being used**

	```javascript
	db
	```

1. **Change the data base that is being used**

	You can indicate a database that does not exist. However, it will not be 
	created until data is inserted into this database.

	```javascript
	use database_name
	```

1. **Clean the console**
	
	```javascript
	cls
	```

1. **Create user for the database**

	```javascript
	db.createUser({
	  user: 'Guiselle',
	  pwd: '123',
	  roles: ['readWrite', 'dbAdmin']
	})
	```
1. **Add to data to a new colection**

	The collection is generated automatically. MongoDB also adds a unique
	identifier automatically.

	```javascript
	db.nameColection.insert({
	  firstName: 'Lady',
	  lastName: 'Penagos'
	})
	```
1. **Insert multiple objects to a collection**

	```javascript
	db.customers.insert([
	  {firstName: 'Isacc', lastName: 'Asimov'},
	  {firstName: 'Elena', lastName: 'Pedraza'},
	  {firstName: 'Felipe', lastName: 'McMillan'}
	])
	```

1. **View the data stored in the colection**
	
	When executing this command you can see the originally inserted data and
	also the identifier generated by MongoDB.

	```javascript
	db.customers.find()
	```

	Command result:

	```javascript
	{ "_id" : ObjectId("5dbd04de0ded94e4ed7e456a"), 
	"firstName" : "Lady", 
	"lastName" : "Penagos" }
	```

1. **Filter data from a collection**
	
	```
	db.nameColection.find({condition})
	```

	For example:

	```
	db.customers.find({firstName: 'Lady'})
	```

	To filter a data by its ID, the correct syntax is:

	```
	db.nameColection.find({_id: ObjectId("identificationCode")})
	```

	For example:

	```
	db.customers.find({"_id" : ObjectId("5dbd0a610ded94e4ed7e456d")})
	```

1. **Modify an object in a collection**
	
	All object data must be rewritten.

	```
	db.nameColection.update(
	  {condition},
	  {update data}
	)
	```

	For example:

	```
	db.customers.update(
	  {lastName: 'McMillan'},
	  {
		firstName: 'Felipe',
		lastName: 'Contreras',
		gender: 'male'
	  }
	)
	```

1. **View objects in a collection in a more readable way**

	```
	db.nameColection.find().pretty()
	```

1. **Add data to an object in a collection**
	
	```
	db.nameCollection.update(
	  {filter},
	  {$set: {NewData}}
	)
	```

	For example:

	```
	db.customers.update(
	  {_id: ObjectId("5dbd0a610ded94e4ed7e456b")},
	  {$set: {age: 34}}
	)
	```
	min 40
